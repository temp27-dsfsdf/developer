function initDCSitemap(e,n){console.log("dxentric sitemap v1.2");document.referrer;const t=window.location.href,a=t.split("?")[0];console.log("DXentric Personalization initialize."),SalesforceInteractions.Personalization.Config.initialize({additionalTransformers:[...n],personalizationExperienceConfigs:[...e]});const i=()=>{let e=document.querySelector("input#mail_value")?.value;return e||""},o=e=>({eventType:e,ecrmLocaleCode:"ko_KR",ecrmUserId:i(),sourceUrl:t});SalesforceInteractions.init({name:"DXentric Salesforce Interactions Web SDK",personalization:{dataspace:"default"},cookieDomain:"mcp.dxentric.co.kr",consents:new Promise((e=>{const{OptIn:n,OptOut:t}=SalesforceInteractions.ConsentStatus;e([{purpose:SalesforceInteractions.ConsentPurpose.Tracking,provider:"Example Consent Manager",status:n}])}))}).then((()=>{console.log("DXentric Salesforce Interactions Web SDK is ready"),SalesforceInteractions.setLoggingLevel("DEBUG");const{listener:e,sendEvent:n,CartInteractionName:t,CatalogObjectInteractionName:r,OrderInteractionName:c}=SalesforceInteractions,s={locale:"ko_KR",onActionEvent:e=>{const n=i();n?.includes("@")&&SalesforceInteractions.sendEvent({interaction:{name:"identity",eventType:"identity",category:"Profile",emailAddress:n,...o("identity")}});const t=i();return t&&(e.interaction={...e.interaction,ecrmUserId:t}),e},listeners:[SalesforceInteractions.listener("keydown","input#search_input",(e=>{"Enter"===e.key&&d(e)}))]},l={name:"MainPageEntered",isMatch:()=>new RegExp("https://mcp.dxentric.co.kr:4433/shop/index\\.dg$").test(a),interaction:{name:"MainPageEntered",eventType:"MainPageEntered",type:"WebPage",...o("MainPageEntered")},onActionEvent:e=>{}},d=e=>{e.preventDefault();const n=document.querySelector("input#search_input")?.value;n?.length>=2&&SalesforceInteractions.sendEvent({interaction:{name:"SearchKeyword",eventType:"SearchKeyword",...o("SearchKeyword"),ecrmSearchIndex:n}})},p={name:"default",interaction:{name:"Default",...o("Default")}};SalesforceInteractions.initSitemap({GLOBAL:s,pageTypeDefault:p,pageTypes:[l]})}))}export{initDCSitemap};
